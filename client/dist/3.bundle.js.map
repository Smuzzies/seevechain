{"version":3,"sources":["webpack:///./components/Analytics/index.js","webpack:///./components/Analytics/index.sass?5140","webpack:///./components/Header/index.js","webpack:///./components/Header/index.sass?096e"],"names":["Analytics","_useState","useState","_useState2","_slicedToArray","analytics","setAnalytics","getAnalytics","axios","get","then","_ref","data","error","console","uniqueVisits","useEffect","setInterval","React","createElement","className","Spinner","labels","series","reverse","sort","a","b","Date","date","forEach","_ref2","count","push","moment","format","Header","LineChart","datasets","label","options","legend","display","maintainAspectRatio","children","_ref$size","size","concat"],"mappings":"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","file":"3.bundle.js","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport Spinner from 'components/Spinner'\nimport Header from 'components/Header'\nimport LineChart from 'components/LineChart'\nimport { useEffect, useState } from 'preact/hooks'\nimport moment from 'moment'\n\nimport './index.sass'\n\nexport default function Analytics() {\n  const [analytics, setAnalytics] = useState(null)\n\n  function getAnalytics() {\n    axios.get('/api/visitor_analytics').then(({data}) => {\n      if (data.error) console.error('error get /api/visitor_analytics', data.error)\n      setAnalytics({ uniqueVisits: data.uniqueVisits })\n    })\n  }\n\n  useEffect(() => {\n    getAnalytics()\n    setInterval(() => {\n      getAnalytics()\n    }, 10000)\n  }, [])\n  if (!analytics) return <div className=\"Analytics\"><Spinner /></div>\n\n  const labels = []\n  const series = []\n  analytics.uniqueVisits.reverse().sort((a,b) => new Date(b.date) - new Date(a.date)).forEach(({ count, date }) => {\n    labels.push(moment(date).format('YYYY-MM-DD'))\n    series.push(count)\n  })\n\n  return <div className=\"Analytics\">\n    <Header>Today: {analytics.uniqueVisits[0].count}</Header>\n    <div className=\"Analytics-chartContainer\">\n      <LineChart\n        labels={labels}\n        datasets={[\n          {\n            label: 'VTHO Burn',\n            data: series,\n          }\n        ]}\n        options={{legend: { display: false }, maintainAspectRatio: false }}\n      />\n    </div>\n  </div>\n}\n","// extracted by mini-css-extract-plugin","import React from 'react'\n\nimport './index.sass'\n\nexport default function Header({ children, size = 'md'}) {\n  const className = `Header Header-${size}`\n  return <div className={className}>\n    {children}\n  </div>\n}\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}